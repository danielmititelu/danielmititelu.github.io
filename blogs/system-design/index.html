<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>System design | Home</title><meta name=keywords content="blog"><meta name=description content="Databases Database management systems (DBMS) which are usually referred to as just databases are a piece of software that are used stores data in an organized way and offer an API to interact with it.
Depending on the way data is organized and accessed there can be different databases paradigm and we will explore a few of them here.
Relational databases Examples: PostgreSQL, MySql, Oracle, Microsoft SQL Server
The most common way to store data is using tables with rows, columns and having relations between them."><meta name=author content><link rel=canonical href=https://danielmititelu.github.io/blogs/system-design/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://danielmititelu.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://danielmititelu.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://danielmititelu.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://danielmititelu.github.io/apple-touch-icon.png><link rel=mask-icon href=https://danielmititelu.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://danielmititelu.github.io/style.css><meta property="og:title" content="System design"><meta property="og:description" content="Databases Database management systems (DBMS) which are usually referred to as just databases are a piece of software that are used stores data in an organized way and offer an API to interact with it.
Depending on the way data is organized and accessed there can be different databases paradigm and we will explore a few of them here.
Relational databases Examples: PostgreSQL, MySql, Oracle, Microsoft SQL Server
The most common way to store data is using tables with rows, columns and having relations between them."><meta property="og:type" content="article"><meta property="og:url" content="https://danielmititelu.github.io/blogs/system-design/"><meta property="article:section" content="blogs"><meta name=twitter:card content="summary"><meta name=twitter:title content="System design"><meta name=twitter:description content="Databases Database management systems (DBMS) which are usually referred to as just databases are a piece of software that are used stores data in an organized way and offer an API to interact with it.
Depending on the way data is organized and accessed there can be different databases paradigm and we will explore a few of them here.
Relational databases Examples: PostgreSQL, MySql, Oracle, Microsoft SQL Server
The most common way to store data is using tables with rows, columns and having relations between them."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://danielmititelu.github.io/blogs/"},{"@type":"ListItem","position":2,"name":"System design","item":"https://danielmititelu.github.io/blogs/system-design/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"System design","name":"System design","description":"Databases Database management systems (DBMS) which are usually referred to as just databases are a piece of software that are used stores data in an organized way and offer an API to interact with it.\nDepending on the way data is organized and accessed there can be different databases paradigm and we will explore a few of them here.\nRelational databases Examples: PostgreSQL, MySql, Oracle, Microsoft SQL Server\nThe most common way to store data is using tables with rows, columns and having relations between them.","keywords":["blog"],"articleBody":"Databases Database management systems (DBMS) which are usually referred to as just databases are a piece of software that are used stores data in an organized way and offer an API to interact with it.\nDepending on the way data is organized and accessed there can be different databases paradigm and we will explore a few of them here.\nRelational databases Examples: PostgreSQL, MySql, Oracle, Microsoft SQL Server\nThe most common way to store data is using tables with rows, columns and having relations between them. This kind of database requires a schema to be defined before storing data and they are not very flexible.\nAccessing data is done with a domain-specific language called SQL (Structured Query Language).\nExample of SQL\nSELECT id, name, age FROM persons where age \u003e= 21 Relational databases use ACID transactions\nAtomicity -\u003e all or nothing\nConsistency -\u003e ensures data remains valid according to all defined rules (Primary Key, Foreign Key, Constraints etc.)\nIsolation -\u003e one database transaction is not affected by another one running concurrently and the end result will appear as if the transactions were executed sequentially\nDurability -\u003e data persists even in case of power failure\nAdvantages\ndata integrity since transactions are ACID Disadvantages\nschema definition is required up front difficult to scale horizontally Key-value databases Examples: Redis, Memcached\nSimple type of database where the data is stored similar to a HashMap with a key pointing to a value. They are very limited but very fast since usually all the data is kept in memory.\nThese are usually used as a caching layer on applications.\nAdvantages\nvery fast response time easy to manage, no schema required can scale horizontally Disadvantages\ndoes not supports joins searching values with anything else but the key (also called a scan) is slow Document-oriented databases Examples: MongoDB, Firestore, DynamoDB\nDocument-oriented databases organize database in collection of documents where each document can be considered a JSON file and supports indexing on the JSON properties for fast searching but does not support joining collections.\nAdvantages\neasy to manage, no schema required can scale horizontally requires data to be denormalized or embedded in a single document Disadvantages\ndoes not supports joins Networking Open System Interconnect (OSI) model Physical Handles transferring bits from one computer to another\nData link Handles framing which groups a set of bits together in a frame and retransmits this frame if it’s lost or corrupted\nNetwork Determines the best route to transmit the frame and attaches the sender and receiver IP addresses\nTransport Transports the message through the network using segments.\nSession This layer starts, maintains and ends a connection between two nodes\nPresentation It will translate, encrypt and compress the data being transmitted. It is also know as the translation layer\nApplication Applications generate and receive data that must go through the network TCP/IP IP (Internet Protocol) - responsible for transferring packets from source to destination using a IP address\nTCP (Transfer Control Protocol) - IP packets can be lost, corrupted or come out of order, TCP corrects these errors and make communication reliable. It also assign the communication to a TCP port\nHTTP (Hypertext transfer protocol) it defines encoding between two application that supports the HTTP standard\nApplication layer - process to process communication Transport Layer - host to host communication Internet Layer - handles communication between networks Network access/Link Layer - handles communication in a local network TCP three-way handshake (SYN) Clients initiate the connection and sends a SYN (Synchronize Sequence Number) segment which tels with what sequence number to start\n(SYN-ACK) Server responds with a SYN-ACK that it’s acknowledging the SYN it received\n(ACK) The client responds to the server with ACK and they establish a connection and can start data transfer\nWhat happens when you enter a URL in a browser?\nif the URL content is in the cache and it’s fresh then retrieve it from cache else perform DNS resolution on the URL search the browser cache, OS cache, local DNS server for IP of URL once the IP is resolved browser initiate a three-way handshake to connect via TCP browser sends the request when it receives a response it will render Load balancing Methods Round Robin - assign request to each server in order Least connections Reverse proxy A server that sits behind a firewall in a private network and acts as an intermediary between a client and one or more servers in the private network\nResponsibilities\nload balancing cache static data and SSL encryption security and anonymity Microservice WIP\nLogging WIP\nMonitoring and Alerts WIP\nTools Munin Data dog Splunk Prometheous Grafana Security WIP\nDDOS attack (Distributed denial of service) Zero day exploits Cross site scripting(XSS) Sql injection Principle of least privilege CIA triage confidentiality integrity availability ","wordCount":"789","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://danielmititelu.github.io/blogs/system-design/"},"publisher":{"@type":"Organization","name":"Home","logo":{"@type":"ImageObject","url":"https://danielmititelu.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://danielmititelu.github.io/ accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>System design</h1><div class=post-meta></div></header><div class=post-content><h2 id=databases>Databases<a hidden class=anchor aria-hidden=true href=#databases>#</a></h2><hr><p>Database management systems (DBMS) which are usually referred to as just databases are a piece of software that are used stores data in an organized way and offer an API to interact with it.</p><p>Depending on the way data is organized and accessed there can be different databases paradigm and we will explore a few of them here.</p><h3 id=relational-databases>Relational databases<a hidden class=anchor aria-hidden=true href=#relational-databases>#</a></h3><p>Examples: PostgreSQL, MySql, Oracle, Microsoft SQL Server</p><p>The most common way to store data is using tables with rows, columns and having relations between them. This kind of database requires a schema to be defined before storing data and they are not very flexible.</p><p>Accessing data is done with a domain-specific language called SQL (Structured Query Language).</p><p>Example of SQL</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> id, name, age <span style=color:#66d9ef>FROM</span> persons <span style=color:#66d9ef>where</span> age <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>21</span>
</span></span></code></pre></div><p>Relational databases use ACID transactions</p><ul><li><p>Atomicity -> all or nothing</p></li><li><p>Consistency -> ensures data remains valid according to all defined rules (Primary Key, Foreign Key, Constraints etc.)</p></li><li><p>Isolation -> one database transaction is not affected by another one running concurrently and the end result will appear as if the transactions were executed sequentially</p></li><li><p>Durability -> data persists even in case of power failure</p></li></ul><p>Advantages</p><ul><li>data integrity since transactions are ACID</li></ul><p>Disadvantages</p><ul><li>schema definition is required up front</li><li>difficult to scale horizontally</li></ul><h3 id=key-value-databases>Key-value databases<a hidden class=anchor aria-hidden=true href=#key-value-databases>#</a></h3><p>Examples: Redis, Memcached</p><p>Simple type of database where the data is stored similar to a HashMap with a key pointing to a value. They are very limited but very fast since usually all the data is kept in memory.</p><p>These are usually used as a caching layer on applications.</p><p>Advantages</p><ul><li>very fast response time</li><li>easy to manage, no schema required</li><li>can scale horizontally</li></ul><p>Disadvantages</p><ul><li>does not supports joins</li><li>searching values with anything else but the key (also called a scan) is slow</li></ul><h3 id=document-oriented-databases>Document-oriented databases<a hidden class=anchor aria-hidden=true href=#document-oriented-databases>#</a></h3><p>Examples: MongoDB, Firestore, DynamoDB</p><p>Document-oriented databases organize database in collection of documents where each document can be considered a JSON file and supports indexing on the JSON properties for fast searching but does not support joining collections.</p><p>Advantages</p><ul><li>easy to manage, no schema required</li><li>can scale horizontally</li><li>requires data to be denormalized or embedded in a single document</li></ul><p>Disadvantages</p><ul><li>does not supports joins</li></ul><h2 id=networking>Networking<a hidden class=anchor aria-hidden=true href=#networking>#</a></h2><hr><h3 id=open-system-interconnect-osi-model>Open System Interconnect (OSI) model<a hidden class=anchor aria-hidden=true href=#open-system-interconnect-osi-model>#</a></h3><ol><li>Physical</li></ol><p>Handles transferring bits from one computer to another</p><ol start=2><li>Data link</li></ol><p>Handles framing which groups a set of bits together in a frame and retransmits this frame if it&rsquo;s lost or corrupted</p><ol start=3><li>Network</li></ol><p>Determines the best route to transmit the frame and attaches the sender and receiver IP addresses</p><ol start=4><li>Transport</li></ol><p>Transports the message through the network using segments.</p><ol start=5><li>Session</li></ol><p>This layer starts, maintains and ends a connection between two nodes</p><ol start=6><li>Presentation</li></ol><p>It will translate, encrypt and compress the data being transmitted. It is also know as the translation layer</p><ol start=7><li>Application
Applications generate and receive data that must go through the network</li></ol><h3 id=tcpip>TCP/IP<a hidden class=anchor aria-hidden=true href=#tcpip>#</a></h3><p>IP (Internet Protocol) - responsible for transferring packets from source to destination using a IP address</p><p>TCP (Transfer Control Protocol) - IP packets can be lost, corrupted or come out of order, TCP corrects these errors and make communication reliable. It also assign the communication to a TCP port</p><p>HTTP (Hypertext transfer protocol) it defines encoding between two application that supports the HTTP standard</p><ul><li>Application layer - process to process communication</li><li>Transport Layer - host to host communication</li><li>Internet Layer - handles communication between networks</li><li>Network access/Link Layer - handles communication in a local network</li></ul><h3 id=tcp-three-way-handshake>TCP three-way handshake<a hidden class=anchor aria-hidden=true href=#tcp-three-way-handshake>#</a></h3><ol><li><p>(SYN) Clients initiate the connection and sends a SYN (Synchronize Sequence Number) segment which tels with what sequence number to start</p></li><li><p>(SYN-ACK) Server responds with a SYN-ACK that it&rsquo;s acknowledging the SYN it received</p></li><li><p>(ACK) The client responds to the server with ACK and they establish a connection and can start data transfer</p></li></ol><p>What happens when you enter a URL in a browser?</p><ul><li>if the URL content is in the cache and it&rsquo;s fresh then retrieve it from cache</li><li>else perform DNS resolution on the URL</li><li>search the browser cache, OS cache, local DNS server for IP of URL</li><li>once the IP is resolved browser initiate a three-way handshake to connect via TCP</li><li>browser sends the request</li><li>when it receives a response it will render</li></ul><h2 id=load-balancing>Load balancing<a hidden class=anchor aria-hidden=true href=#load-balancing>#</a></h2><hr><h4 id=methods>Methods<a hidden class=anchor aria-hidden=true href=#methods>#</a></h4><ul><li>Round Robin - assign request to each server in order</li><li>Least connections</li><li></li></ul><h2 id=reverse-proxy>Reverse proxy<a hidden class=anchor aria-hidden=true href=#reverse-proxy>#</a></h2><p>A server that sits behind a firewall in a private network and acts as an intermediary between a client and one or more servers in the private network</p><p>Responsibilities</p><ul><li>load balancing</li><li>cache static data and SSL encryption</li><li>security and anonymity</li></ul><h2 id=microservice>Microservice<a hidden class=anchor aria-hidden=true href=#microservice>#</a></h2><hr><p>WIP</p><h2 id=logging>Logging<a hidden class=anchor aria-hidden=true href=#logging>#</a></h2><hr><p>WIP</p><h2 id=monitoring-and-alerts>Monitoring and Alerts<a hidden class=anchor aria-hidden=true href=#monitoring-and-alerts>#</a></h2><hr><p>WIP</p><h3 id=tools>Tools<a hidden class=anchor aria-hidden=true href=#tools>#</a></h3><ul><li>Munin</li><li>Data dog</li><li>Splunk</li><li>Prometheous</li><li>Grafana</li></ul><h2 id=heading><a hidden class=anchor aria-hidden=true href=#heading>#</a></h2><h2 id=security>Security<a hidden class=anchor aria-hidden=true href=#security>#</a></h2><hr><p>WIP</p><h3 id=ddos-attack-distributed-denial-of-service>DDOS attack (Distributed denial of service)<a hidden class=anchor aria-hidden=true href=#ddos-attack-distributed-denial-of-service>#</a></h3><h3 id=zero-day-exploits>Zero day exploits<a hidden class=anchor aria-hidden=true href=#zero-day-exploits>#</a></h3><h3 id=cross-site-scriptingxss>Cross site scripting(XSS)<a hidden class=anchor aria-hidden=true href=#cross-site-scriptingxss>#</a></h3><h3 id=sql-injection>Sql injection<a hidden class=anchor aria-hidden=true href=#sql-injection>#</a></h3><h3 id=principle-of-least-privilege>Principle of least privilege<a hidden class=anchor aria-hidden=true href=#principle-of-least-privilege>#</a></h3><h3 id=cia-triage>CIA triage<a hidden class=anchor aria-hidden=true href=#cia-triage>#</a></h3><ul><li>confidentiality</li><li>integrity</li><li>availability</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://danielmititelu.github.io/tags/blog/>blog</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://danielmititelu.github.io/>Home</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>