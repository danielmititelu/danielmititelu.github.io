<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="description" content="" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="content-security-policy" content="">
	<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-1f49081a.css">
	<link rel="modulepreload" href="/_app/start-d33b627d.js">
	<link rel="modulepreload" href="/_app/chunks/vendor-cac58433.js">
	<link rel="modulepreload" href="/_app/pages/__layout.svelte-8e082429.js">
	<link rel="modulepreload" href="/_app/pages/raspberrypi/gadget-mode.md-7c9bd3a9.js">
	</head>
	<body class="m-0">
		<div id="svelte">


<section><nav class="fixed flex top-0 w-full bg-slate-800 h-16 left-0 right-0"><div class="ml-4 my-auto text-xl"><a href="/">HOME </a></div></nav>
	<main class="max-w-screen-md mx-auto mt-24 min-h-screen"><h1>Gadget mode on raspberry pi</h1>
<p>Gadget mode enables a raspberry pi to be connected and controlled by a computer with only a usb cable</p>
<p>Flash raspberry pi os(the full or lite version) on an SD card and modify the following in the boot folder:</p>
<ul><li>in <code>config.txt</code> add <code>dtoverlay=dwc2</code> at the end of the file</li>
<li>in <code>cmdline.txt</code> add <code>modules-load=dwc2,g_ether</code> after <code>rootwait</code> word</li>
<li>create a file name ssh (without extension)</li></ul>
<p>You should be able to connect to the pi now:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">ssh pi@raspberrypi.local</code><!-- HTML_TAG_END --></pre>
<h3>Debugging wifi connectivity</h3>
<p>Command to see the network interfaces</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">ifconfig</code><!-- HTML_TAG_END --></pre>
<p>Command to see the wireless interfaces</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">iwconfig</code><!-- HTML_TAG_END --></pre>
<p>Command to scan wireless networks</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">iwlist wlan0 scan | grep ESSID</code><!-- HTML_TAG_END --></pre>
<p>Commands to stop and start wpa_supplicant manually</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">sudo killall wpa_supplicant
sudo wpa_supplicant -c/etc/wpa_supplicant/wpa_supplicant/conf -iwlan0 -d</code><!-- HTML_TAG_END --></pre>
<h3>Internet via usb cable</h3>
<p>You can also give internet to the pi with the usb connection:</p>
<p>On Windows:</p>
<p>Control Panel &gt; Network and Internet &gt; Network and Sharing Center</p>
<p>On Mac: </p>
<p>Apple menu &gt; System preferences &gt; Sharing &gt; Internet Sharing &gt; RNDIS/Ethernet Gadget</p></main>
	<footer class="flex justify-center content-center flex-col text-center mt-14 mb-8"><p class="text-center">Created with SvelteKit by Dumitru-Daniel Mititelu
    </p>
    <div><a href="https://github.com/danielmititelu/danielmititelu.github.io">Github repo
        </a></div></footer></section>


		<script type="module" data-hydrate="19ov9fv">
		import { start } from "/_app/start-d33b627d.js";
		start({
			target: document.querySelector('[data-hydrate="19ov9fv"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/_app/pages/__layout.svelte-8e082429.js"),
						import("/_app/pages/raspberrypi/gadget-mode.md-7c9bd3a9.js")
				],
				url: new URL("http://sveltekit-prerender/raspberrypi/gadget-mode"),
				params: {}
			}
		});
	</script></div>
	</body>
</html>
